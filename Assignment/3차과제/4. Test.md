**이제 함수화도 다 되었으니 합쳐보자**


```python
def add_word():    # 단어 추가 함수를 만들어봅시다.
    word = input("추가할 단어를 입력하세요: ")
    meaning = input(f"{word}의 뜻을 입력하세요: ")

    word = word.lower()     # 대소문자 구별을 안해야하니까 이렇게 소문자로 싹다 변환해버립니다.

    if word in vocabulary:     # 만약에 이 영단어가 단어장에 있고
        if meaning not in vocabulary[word]:     # 같은 영단어인데 다른뜻을 추가하고 싶으면
            vocabulary[word].append(meaning)     # append를 이용해서 word키에 meaning값을
                                                 # vocabulary 딕셔너리에 추가해줍니다.
        else:     # 영단어가 단어장에있는데 중복되는 뜻을 적게되면
            print(f"'{meaning}' 은 중복되는 뜻이에요.")     # 라고 출력하게 됩니다. 
    else:     # 영단어가 없다면 이렇게 키와 값을 추가해줍니다.
        vocabulary[word] = [meaning]     # vocabulary 딕셔너리에 키와 값으로 저장

def delete_word():
    word = input("삭제할 단어를 입력하세요: ")
    meaning = input(f"{word}의 뜻을 삭제하려면 뜻을 입력하세요 (전체 삭제는 그냥 Enter): ")

    if word in vocabulary:   # 일단 단어장에 단어가 있어야겠죠?
        if meaning:  # meaning을 사용자가 작성했을 경우!
            if meaning in vocabulary[word]: # if문으로 단어장 키의 값에 값인지를 확인하고
                vocabulary[word].remove(meaning) # 그녀석의 값인 뜻을 날려버려야겠죠?
                
                # 뜻이 0개가 되면 단어만 있는데 뜻이 없는 이상한 케이스가 생겨요 그래서
                if not vocabulary[word]: # 다시... if문으로 단어장의 word의 값이 없다면
                    del vocabulary[word] # del을 이용해서 키도 날려버리는거죠
            else:  # meaning을 사용자가 작성을 헀는데 그것이 없는 경우
                print(f"'{meaning}' 는 '{word}'의 뜻에 없어요.")
        else:    # meaning을 사용자가 적지않았을때!
            del vocabulary[word]   # 그냥 그 단어를 딕셔너리에서 날려버려요
    else:   # 없으니까 단어장에 없다고 표현을 해줘야겠네요?
        print(f"'{word}' 는 단어장에 없습니다.")

def search_language():
    language = input("검색할 단어나 뜻을 입력하세요: ")
    # 출력을 키와 값으로 해야해서 결과를 담을 {}를 하나 만들어줍니다요
    # 어짜피 이 변수는 검색에서만 쓸테니까 걍 여따가 하나 맨들어봅시다
    results = {}
    
    # for문으로 딕셔너리의 키와 값을 (키1, 값1),(키2, 값2)이런식으로 돌려주는대 데이터가 커지면... 못쓸꺼같음
    # 만약 데이터베이스를 연동한다고 가정하면 코드를 왕창 수정해야할듯
    for word, meaning in vocabulary.items(): # 아까 설명했던 items() 단어장에서 (단어1,뜻1),(단어2,뜻2)
        # 제가 원하는 출력을 보려면 단어는 아에 같아야 저것만 나올껏이고 뜻은 같으면 for문 돌릴테니까 or를 쓰면 되겠죠
        # 만약 apple 입력시 pineapple까지 보고 싶다면야 if language in meaning만 하면 되겠죠
        if language == word or language in meaning:
            # 그리고 해당하는 키들을 아까 만들었던 results 딕셔너리에 할당해주고
            results[word] = meaning
    
    # 요거를 프린트하면 볼수있겠지요
    print(results)

def list_language():
    zero = 0 # while문안에 있으면 초기화 된다. 밖으로 무빙
    while True:
        if zero < len(vocabulary): # len()은 목록의 길이를 볼수있는데 단어장목록길이보다 작으면 안되지요
                print(list(vocabulary.items())[zero:zero+10]) # 이렇게하면 10개 출력 파이썬은 끝이 -1이에요
                choice = input("\n10개 더? (y/n) : ") # 사용자 선택 받기 y Y 빼고는 다 메인으로 보내버려야겠다.
                choice = choice.lower()     # 소문자로 싹다 변환해주는 개발자의 배려
                if choice == 'y' : # 더 보고 싶으면 y or Y  
                    zero += 10   # zero에 10을 더하고 while문으로 돌아가면 인덱싱이 [10:20]
                                 # 틀린거같지만 파이썬은 끝이 -1이라 이게 맞다.                  
                else:
                    break 
        else:
            print("더 이상 단어가 없습니다.")
            break

def main():
    global vocabulary # 전역변수
    vocabulary = {} # 이게 단어장역할이다
    while True:
        print("\n영어 단어장 프로그램\n")
        print("1. 단어 추가")
        print("2. 단어 삭제")
        print("3. 단어 검색")
        print("4. 전체 단어 보기")
        print("5. 단어 랜덤 테스트")
        print("6. 종료")
        
        choice = input("원하시는 기능의 번호를 입력하세요: ")
        if choice == "1":
            add_word()
        elif choice == "2":
            delete_word()
        elif choice == "3":
            search_language()
        elif choice == "4":
            list_language()
        elif choice == "5":
            pass
        elif choice == "6":
            print("프로그램을 종료합니다.")
            break
        else:
            print("잘못된 입력입니다. 다시 선택해주세요.")

if __name__ == "__main__":
    main()
```
