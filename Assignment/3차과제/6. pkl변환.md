## .pkl을 변환해서 데이터베이스에 넣을수있는 형식으로 만든뒤에 데이터베이스에 연동

- SQLite 같은 데이터베이스를 사용할 경우, .pkl 파일은 필요하지 않죠...
- 데이터베이스는 데이터의 저장, 조회, 수정, 삭제 등의 작업을 효율적으로 수행할 수 있는 구조 및 기능을
- 제공하므로 별도의 파일을 사용할 필요가 없어요.
- 근데 이미 프로젝트의 남은 시간이 별로 없었기에 비효율적이지만 기존의 프로그램 로직을 수정하지 않고
- .pkl파일을 통해서 데이터베이스와 관련된 함수 몇개랑 모듈하나를 추가해서 만들어보죠
- 일단 단어장이니까 오토커밋을 해도 괜찮을꺼같긴한데 회사가서 그러면 큰일나요
  
```python
# 저는 sqlite를 쓸꺼에요 oracle은 빅프로젝트에 어울리기 때문이죠(어렵기도 해요)
import sqlite3
```
```python
def setup_database():
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    cursor.execute("""
    CREATE TABLE IF NOT EXISTS vocabulary (
        word TEXT PRIMARY KEY,
        meanings TEXT
    )
    """)
    conn.commit()
    conn.close()
```
```python
def load_data():
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    cursor.execute("SELECT word, meanings FROM vocabulary")
    data = {row[0]: row[1].split(', ') for row in cursor.fetchall()}
    conn.close()
    return data
```
```python
def save_data(vocabulary):
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()

    for word, meanings in vocabulary.items():
        meanings_str = ', '.join(meanings)
        cursor.execute("INSERT OR REPLACE INTO vocabulary (word, meanings) VALUES (?, ?)", (word, meanings_str))

    conn.commit()
    conn.close()
```
